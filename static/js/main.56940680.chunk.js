(this.webpackJsonparkareact=this.webpackJsonparkareact||[]).push([[0],{26:function(e){e.exports=JSON.parse('{"a":[{"layers":[[{"position":[0,0,-10],"userDataType":"pink"},{"position":[0,-5,-10],"userDataType":"pink"},{"position":[0,5,-10],"userDataType":"pink"}]]},{"layers":[[{"position":[0,10,-10],"userDataType":"blue"},{"position":[0,-10,-10],"userDataType":"blue"},{"position":[10,-10,-10],"userDataType":"blue"},{"position":[10,10,-10],"userDataType":"blue"}],[{"position":[2.5,-1.25,-5],"userDataType":"red"}]]},{"layers":[[{"position":[0,2.5,-10],"userDataType":"blue"},{"position":[-5,0,-10],"userDataType":"yellow"},{"position":[0,0,-10],"userDataType":"yellow"},{"position":[5,0,-10],"userDataType":"yellow"},{"position":[0,-2.5,-10],"userDataType":"blue"}],[{"position":[-2.5,1.25,-5],"userDataType":"pink"},{"position":[2.5,1.25,-5],"userDataType":"pink"},{"position":[-2.5,-1.25,-5],"userDataType":"red"},{"position":[2.5,-1.25,-5],"userDataType":"red"}]]}]}')},37:function(e,t,n){e.exports=n.p+"static/media/game_title.62e617f5.png"},39:function(e,t,n){e.exports=n.p+"static/media/brick.eed03f13.mp3"},40:function(e,t,n){e.exports=n.p+"static/media/wall.4c0964a4.mp3"},45:function(e,t,n){e.exports=n.p+"static/media/cross.00397b42.jpg"},52:function(e,t,n){e.exports=n(61)},6:function(e){e.exports=JSON.parse('{"a":{"red":{"color":"#354056","fillColor":"#737E96","bonusProbability":0,"strength":2,"scoreValue":500,"isTile":true},"pink":{"color":"#F12C71","fillColor":"#F2417F","bonusProbability":0,"strength":1,"scoreValue":250,"isTile":true},"blue":{"color":"#36abb5","fillColor":"#36abb5","bonusProbability":0,"strength":2,"size":2,"scoreValue":1000,"isTile":true},"yellow":{"color":"#5b5203","fillColor":"#efd807","bonusProbability":0,"strength":2,"scoreValue":500,"isTile":true}},"b":{"side":{"color":"#0b0f17"},"ground":{"color":"#0b0f17"},"roof":{"isRoof":true,"color":"rgba(0,0,0,0)"},"corner":{"color":"#F12C71","isCorner":true}}}')},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Me}));var a=n(2),r=n(0),i=n.n(r),o=n(32),s=n.n(o),c=n(10),u=n(64),l=n(47),f=n(7),m=n(33),d=n(26),h=function(){function e(){var t=this;Object(c.a)(this,e),this.buildLevel=function(e){t.tiles.next(d.a[e].layers.flat())},e.instance||(e.instance=this,this.tiles=new u.a([]))}return Object(m.a)(e,[{key:"getLockedLevels",value:function(e){var t=d.a;return Object(f.a)(t).splice(e.length-1,t.length-1)}}]),e}(),b=new h;Object.freeze(h);var v=new function e(){var t=this;return Object(c.a)(this,e),this.addHighscoreValue=function(){var e=Object(f.a)(t.bestscoreValues.value);e[j.currentLevel.value]=j.scoreValue.value,e[j.currentLevel.value+1]=0,t.bestscoreValues.next(e),console.log("bestscoreValues",e)},e.instance||(e.instance=this,this.bestscoreValues=new u.a([0]),this.achievements=new u.a([])),e.instance};Object.freeze(v);var p=0,g=1,y=2,E=3,x=4,O=5,j=new function e(){var t=this;return Object(c.a)(this,e),this.setGameState=function(e){t.gameState.next(e)},this.launchLevel=function(e){t.currentLevel.next(e),t.gameState.next(y)},this.increaseLevelNumber=function(){t.currentLevel.next(t.currentLevel.value+1)},this.launchGame=function(){t.resetGame(),t.inGame.next(!0)},this.launchBall=function(){t.ballLaunched.next(!0)},this.resetBall=function(){t.balls.value>0?(t.balls.next(t.balls.value-1),t.ballLaunched.next(!1)):t.gameState.next(E)},this.resetGame=function(){t.balls.next(3),t.nbBrickDestroyed.next(0),t.scoreValue.next(0),t.inGame.next(!1),t.ballLaunched.next(!1)},this.setBall2dPosition=function(e){return t.ball2dPosition.next(e)},this.setGlitching=function(e){return t.glitching.next(e)},this.increaseScoreValue=function(e){t.scoreValue.next(t.scoreValue.value+e),t.nbBrickDestroyed.value+1===b.tiles.value.length&&(v.addHighscoreValue(),t.gameState.next(E)),t.nbBrickDestroyed.next(t.nbBrickDestroyed.value+1)},e.instance||(e.instance=this,this.gameState=new u.a(p),this.nbBrickDestroyed=new u.a(0),this.ball2dPosition=new u.a({x:0,y:0}),this.balls=new u.a(3),this.scoreValue=new u.a(0),this.inGame=new l.a(!1),this.ballLaunched=new l.a(!1),this.currentLevel=new u.a(1),this.glitching=new l.a(!0)),e.instance};Object.freeze(j);var w=n(12),S=n(8),D=n(9);function L(){var e=Object(S.a)(["\n\tcursor: pointer;\n\tbackground: transparent;\n\tfont-size: ",";\n\tborder-radius: ",";\n\tfont-family: lazer84;\n\tletter-spacing: 0.1rem;\n\tcolor: ",";\n\tborder-style: none;\n\tpadding: ",";\n\ttransition: 0.5s all ease-out;\n\t","\n"]);return L=function(){return e},e}var z=D.a.button(L(),(function(e){return e.big?"2em":"2.5em"}),(function(e){return e.big?"4px":"2px"}),(function(e){return e.enabled?"#e6007e":"rgba(90,0,49,0.95)"}),(function(e){return e.big?"0.1em 1em":"0.5em 1em"}),(function(e){return e.enabled&&"&:hover { text-shadow: 2px 2px #fff; }"}));function k(e){var t=e.callback,n=e.text,a=e.enabled,r=void 0===a||a,o=e.big,s=void 0!==o&&o,c=e.style,u=void 0===c?{}:c;return i.a.createElement(z,{big:s,enabled:r,onClick:function(){r&&t()},style:Object(w.a)({},u)},n)}var T=n(37),M=n.n(T);function P(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(r.useLayoutEffect)((function(){function a(){n&&window.innerHeight>window.innerWidth||!n&&window.innerHeight<window.innerWidth?(t.setSize(window.width),e.current.style.width="".concat(window.innerWidth,"px"),e.current.style.height="".concat(window.innerWidth,"px")):(e.current.style.width="".concat(window.innerHeight,"px"),e.current.style.height="".concat(window.innerHeight,"px"),t.setSize(window.innerHeight))}return window.addEventListener("resize",a),a(),function(){return window.removeEventListener("resize",a)}}),[n,e,t]),t}function G(){var e=Object(S.a)(["\n\tbackground: url(",") no-repeat center center fixed;\n\t-webkit-background-size: cover;\n\t-moz-background-size: cover;\n\t-o-background-size: cover;\n\tbackground-size: cover;\n\tdisplay: flex;\n\tjustify-content: center;\n\tposition: absolute;\n\tflex-direction: column;\n\talign-items: center; \n"]);return G=function(){return e},e}var F=D.a.div(G(),M.a),_=function(e){var t=e.text,n=e.gameState,a=e.style;return i.a.createElement(k,{big:!0,callback:function(){console.log(n),j.setGameState(n)},text:t,style:a})};function C(){var e=Object(r.useState)(0),t=Object(a.a)(e,2),n=t[0],o=t[1],s=Object(r.useRef)(null);P(s,{size:n,setSize:o},!1);var c={height:"5%",width:"50%",letterSpacing:"",transform:"rotate(-3deg)",fontSize:"3rem"};return i.a.createElement(F,{ref:s},i.a.createElement(_,{style:Object(w.a)(Object(w.a)({},c),{},{marginTop:"7.5em"}),text:"PLAY",gameState:g}),i.a.createElement("div",{style:{marginTop:"2.5em"}},i.a.createElement(_,{style:Object(w.a)(Object(w.a)({},c),{},{fontSize:"2.25em"}),text:"SETTINGS",gameState:x}),i.a.createElement(_,{style:Object(w.a)(Object(w.a)({},c),{},{fontSize:"2.25em"}),text:"ABOUT",gameState:O})))}var V=n(5),B=n(62),I=n(1),R=n(38),H=n.n(R),N=n(39),U=n.n(N),A=n(40),W=n.n(A);function q(e){var t=e.position,n=e.size,o=void 0===n?[2,2,2]:n,s=e.userData,c=e.id,u=s.strength,l=s.color,f=s.fillColor,m=s.cornerData,d=s.isRoof,h=s.isTile,b=s.scoreValue,v=Object(r.useState)(3),p=Object(a.a)(v,2),g=p[0],y=p[1];Object(r.useLayoutEffect)((function(){var e=j.balls.subscribe(y);return function(){return e.unsubscribe()}}),[]);var E=isNaN(u),x=isNaN(m),O=Object(r.useState)(),w=Object(a.a)(O,2),S=w[0],D=w[1];function L(){var e=function(e){return new I.PointsMaterial({color:e,size:.9,transparent:!0,depthTest:!1,sizeAttenuation:!0,opacity:.9})}(l),t=function(e,t){for(var n=new I.Geometry,a=0;a<e;a++){var r=2.5*Math.random()-1.25+t.current.position.x,i=2.5*Math.random()-1.25+t.current.position.y,o=2.5*Math.random()-1.25+t.current.position.z,s=new I.Vector3(r,i,o);n.vertices.push(s)}return n}(25,G),n=new I.Points(t,e);return n.customRotation=2*Math.random()-1,T.add(n),n}var z=null;E||x?z=W.a:(d||h)&&(z=U.a);var k=new H.a(z),T=Object(V.e)().scene,M=Object(B.c)((function(){return{type:x?"Static":"Kinematic",args:o.map((function(e){return e/2})),position:t,userData:s,onCollide:function(e){k.play(),d?(j.resetBall(),j.setGlitching(!0),setTimeout((function(){j.setGlitching(!1),y(g-1)}),300)):E||(s.strength--,s.strength<=0?(F.position.set(-1e3,-1e3,-100),D(L()),j.increaseScoreValue(b)):D(L()))}}})),P=Object(a.a)(M,2),G=P[0],F=P[1];return Object(V.c)((function(){S&&S.material.opacity>0&&(S.material.opacity-=.0075,S.scale.x+=.01,S.scale.y+=.01,S.rotation.y+=S.customRotation/50)})),d?i.a.createElement("mesh",{key:c,ref:G,userData:s}):i.a.createElement(i.a.Fragment,null,h?i.a.createElement("mesh",{key:c,ref:G,userData:s},i.a.createElement("boxGeometry",{attach:"geometry",args:o}),i.a.createElement("meshStandardMaterial",{attach:"material",wireframe:!0,color:l}),i.a.createElement("mesh",{receiveShadow:!0,userData:s},i.a.createElement("boxGeometry",{attach:"geometry",args:o.map((function(e){return.99*e}))}),i.a.createElement("meshStandardMaterial",{attach:"material",color:f}))):i.a.createElement("mesh",{key:c,ref:G,receiveShadow:!0,userData:s},i.a.createElement("boxGeometry",{attach:"geometry",args:o,receiveShadow:!0}),i.a.createElement("meshStandardMaterial",{attach:"material",receiveShadow:!0,color:l})))}var J=n(6);function Q(e){var t=e.position,n=e.userData,a=e.id;return i.a.createElement(q,{id:a,position:t,userData:n})}function K(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],o=t[1],s=Object(r.useState)(j.currentLevel.value),c=Object(a.a)(s,2),u=c[0],l=c[1];return Object(r.useEffect)((function(){var e=j.currentLevel.subscribe(l);return e.add(b.tiles.subscribe(o)),b.buildLevel(u),function(){return e.unsubscribe()}}),[u]),n.map((function(e,t){return i.a.createElement(Q,{key:t,id:t,position:e.position,userData:J.a[e.userDataType]})}))}function Y(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(q,{position:[-12.5,0,0],userData:J.b.side,size:[1,25,130]}),i.a.createElement(q,{position:[12.5,0,0],userData:J.b.side,size:[1,25,130]}),i.a.createElement(q,{position:[0,12.5,0],userData:J.b.side,size:[25,1,130]}),i.a.createElement(q,{position:[0,-12.5,0],userData:J.b.side,size:[25,1,130]}),i.a.createElement(q,{position:[0,0,-12.5],userData:J.b.ground,size:[25,25,1],rotation:Math.PI/2}),i.a.createElement(q,{position:[-12,-12,-12.5],userData:J.b.corner,size:[.25,.25,130],rotation:Math.PI/2}),i.a.createElement(q,{position:[-12,12,-12.5],userData:J.b.corner,size:[.25,.25,130],rotation:Math.PI/2}),i.a.createElement(q,{position:[12,12,-12.5],userData:J.b.corner,size:[.25,.25,130],rotation:Math.PI/2}),i.a.createElement(q,{position:[12,-12,-12.5],userData:J.b.corner,size:[.25,.25,130],rotation:Math.PI/2}),i.a.createElement(q,{position:[0,12,-12],userData:J.b.corner,size:[130,.25,.25],rotation:Math.PI/2}),i.a.createElement(q,{position:[0,-12,-12],userData:J.b.corner,size:[130,.25,.25],rotation:Math.PI/2}),i.a.createElement(q,{position:[12,0,-12],userData:J.b.corner,size:[.25,120,.25],rotation:Math.PI}),i.a.createElement(q,{position:[-12,0,-12],userData:J.b.corner,size:[.25,120,.25],rotation:Math.PI}),i.a.createElement(q,{position:[0,0,45],userData:J.b.roof,size:[24,24,.001],rotation:Math.PI/2}))}var X=n(45),Z=n.n(X);function $(){var e=Object(r.useState)(!1),t=Object(a.a)(e,2),n=t[0],o=t[1];Object(r.useLayoutEffect)((function(){var e=j.ballLaunched.subscribe(o);return function(){return e.unsubscribe()}}),[]);var s=Object(V.d)(I.TextureLoader,Z.a),c=Object(B.e)((function(){return{mass:1,args:1,position:[0,0,0],onCollide:function(e){}}})),u=Object(a.a)(c,2),l=u[0],f=u[1];return Object(V.c)((function(e){n||(f.position.set(10*e.mouse.x,10*e.mouse.y,17.6),f.velocity.set(0,0,0,1)),j.setBall2dPosition({x:l.current.position.x,y:l.current.position.y})})),i.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,ref:l},i.a.createElement("sphereBufferGeometry",{attach:"geometry",args:[.5,64,64]}),i.a.createElement("meshStandardMaterial",{map:s,attach:"material"}))}function ee(){var e=Object(B.e)((function(){return{args:1.3,scale:[1,1,.01],position:[0,0,10],sleepSpeedLimit:4,onCollide:function(e){}}})),t=Object(a.a)(e,2),n=t[0],o=t[1],s=Object(r.useState)("#0a94ab"),c=Object(a.a)(s,2),u=c[0],l=c[1],f=Object(r.useState)({x:0,y:0}),m=Object(a.a)(f,2),d=m[0],h=m[1];function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.5,n=e<0;return n?e<-t?-t:e:e>t?t:e}return Object(r.useEffect)((function(){j.ball2dPosition.subscribe(h)}),[]),Object(V.c)((function(e){var t=10*e.mouse.x,a=10*e.mouse.y,r=t-n.current.position.x,i=a-n.current.position.y;n.current.position.x===d.x?l("#0a94ab"):l("#F00"),o.position.set(n.current.position.x+b(r),n.current.position.y+b(i),18)})),i.a.createElement(i.a.Fragment,null,i.a.createElement("mesh",{ref:n,castShadow:!0},i.a.createElement("boxGeometry",{attach:"geometry",args:[5,5,1]}),i.a.createElement("meshBasicMaterial",{attach:"material",wireframe:!0,color:u})))}function te(){var e=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){e.current.shadow.camera=new I.OrthographicCamera(-100,100,100,-100,.5,100),e.current.shadow.mapSize.width=2048,e.current.shadow.mapSize.height=2048}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("ambientLight",{intensity:.75}),i.a.createElement("directionalLight",{ref:e,position:[0,0,25],"shadow-camera-near":.1,"shadow-camera-far":1500,castShadow:!0}))}var ne=n(48),ae=n(46),re=n(49),ie=n(4),oe=n(29),se=function(e,t,n,a){ie.a.call(this),void 0===oe.a&&console.error("FilmPass relies on FilmShader");var r=oe.a;this.uniforms=I.UniformsUtils.clone(r.uniforms),this.material=new I.ShaderMaterial({uniforms:this.uniforms,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader}),void 0!==a&&(this.uniforms.grayscale.value=a),void 0!==t&&(this.uniforms.sIntensity.value=t),void 0!==n&&(this.uniforms.sCount.value=n),this.uniforms.nIntensity.value=.1,this.fsQuad=new ie.a.FullScreenQuad(this.material)};se.prototype=Object.assign(Object.create(ie.a.prototype),{constructor:se,render:function(e,t,n,a){this.uniforms.tDiffuse.value=n.texture,this.uniforms.time.value+=a,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(),this.fsQuad.render(e))}});var ce={uniforms:{tDiffuse:{value:null},tDisp:{value:null},byp:{value:0},amount:{value:.08},angle:{value:.02},seed:{value:.02},seed_x:{value:.02},seed_y:{value:.02},distortion_x:{value:.5},distortion_y:{value:.6},col_s:{value:.05}},vertexShader:"varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n    }",fragmentShader:"uniform int byp; //should we apply the glitch\n    uniform sampler2D tDiffuse;\n    uniform sampler2D tDisp;\n    uniform float amount;\n    uniform float angle;\n    uniform float seed;\n    uniform float seed_x;\n    uniform float seed_y;\n    uniform float distortion_x;\n    uniform float distortion_y;\n    uniform float col_s;\n    varying vec2 vUv;\n    float rand(vec2 co){\n      return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n    }\n    void main() {\n      if(byp<1) {\n        vec2 p = vUv;\n        float xs = floor(gl_FragCoord.x / 0.5);\n        float ys = floor(gl_FragCoord.y / 0.5);\n        //based on staffantans glitch shader for unity https://github.com/staffantan/unityglitch\n        vec4 normal = texture2D (tDisp, p*seed*seed);\n        if(p.y<distortion_x+col_s && p.y>distortion_x-col_s*seed) {\n          if(seed_x>0.){\n            p.y = 1. - (p.y + distortion_y);\n          }\n          else {\n            p.y = distortion_y;\n          }\n        }\n        p.x+=normal.x*seed_x*(seed/5.);\n        p.y+=normal.y*seed_y*(seed/5.);\n        //base from RGB shift shader\n        vec2 offset = amount * vec2( cos(angle), sin(angle));\n        vec4 cr = texture2D(tDiffuse, p + offset);\n        vec4 cga = texture2D(tDiffuse, p);\n        vec4 cb = texture2D(tDiffuse, p - offset);\n        gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\n        //add noise\n        vec4 snow = 200.*amount*vec4(rand(vec2(xs * seed,ys * seed*50.))*0.05);\n        gl_FragColor = gl_FragColor+ snow;\n      }\n      else {\n        gl_FragColor=texture2D (tDiffuse, vUv);\n      }\n    }"},ue=function(e){ie.a.call(this),void 0===ce&&console.error("THREE.GlitchPass relies on THREE.DigitalGlitch");var t=ce;this.uniforms=I.UniformsUtils.clone(t.uniforms),void 0===e&&(e=64),this.uniforms.tDisp.value=this.generateHeightmap(e),this.material=new I.ShaderMaterial({uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader}),this.camera=new I.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new I.Scene,this.quad=new I.Mesh(new I.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad),this.factor=0};function le(){var e=Object(r.useState)(!0),t=Object(a.a)(e,2),n=t[0],o=t[1];Object(r.useLayoutEffect)((function(){var e=j.glitching.subscribe(o);return function(){return e.unsubscribe()}}),[]);var s=Object(r.useRef)(),c=Object(V.e)(),u=c.scene,l=c.gl,f=c.size,m=c.camera,d=Object(r.useMemo)((function(){return new I.Vector2(f.width,f.height)}),[f]);return Object(r.useEffect)((function(){s.current.setSize(f.width,f.height)}),[f]),Object(V.c)((function(){s.current.render()}),1),i.a.createElement("effectComposer",{ref:s,args:[l]},i.a.createElement("renderPass",{attachArray:"passes",scene:u,camera:m}),i.a.createElement("unrealBloomPass",{attachArray:"passes",args:[d,.25,.2,0]}),i.a.createElement("filmPass",{attachArray:"passes",noiseIntensity:0,args:[.35,.6,1500,!1]}),i.a.createElement("glitchPass",{attachArray:"passes",factor:n?1:0}))}function fe(){var e=Object(S.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tmargin: 3em 1em 3em -12em;\n\tbackground-color: rgba(0, 0, 0, 0.4);\n\tpadding: 1em;\n"]);return fe=function(){return e},e}ue.prototype=Object.assign(Object.create(ie.a.prototype),{constructor:ue,render:function(e,t,n,a,r){var i=Math.max(0,this.factor);this.uniforms.tDiffuse.value=n.texture,this.uniforms.seed.value=Math.random()*i,this.uniforms.byp.value=0,i?(this.uniforms.amount.value=Math.random()/90*i,this.uniforms.angle.value=I.Math.randFloat(-Math.PI,Math.PI)*i,this.uniforms.distortion_x.value=I.Math.randFloat(0,1)*i,this.uniforms.distortion_y.value=I.Math.randFloat(0,1)*i,this.uniforms.seed_x.value=I.Math.randFloat(-.3,.3)*i,this.uniforms.seed_y.value=I.Math.randFloat(-.3,.3)*i):this.uniforms.byp.value=1,this.quad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),e.render(this.scene,this.camera)):(e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera))},generateHeightmap:function(e){for(var t=new Float32Array(e*e*3),n=e*e,a=0;a<n;a++){var r=I.Math.randFloat(0,1);t[3*a+0]=r,t[3*a+1]=r,t[3*a+2]=r}var i=new I.DataTexture(t,e,e,I.RGBFormat,I.FloatType);return i.needsUpdate=!0,i}}),Object(V.b)({EffectComposer:ne.a,RenderPass:ae.a,UnrealBloomPass:re.a,FilmPass:se,GlitchPass:ue});var me=D.a.div(fe());function de(e){e.text;var t=Object(r.useState)(3),n=Object(a.a)(t,2),o=n[0],s=n[1],c=Object(r.useState)(1),u=Object(a.a)(c,2),l=u[0],f=u[1],m=Object(r.useState)(0),d=Object(a.a)(m,2),h=d[0],b=d[1];return Object(r.useLayoutEffect)((function(){var e=j.balls.subscribe(s);return e.add(j.currentLevel.subscribe(f)),e.add(j.scoreValue.subscribe(b)),function(){return e.unsubscribe()}}),[]),i.a.createElement(me,null,i.a.createElement("p",null,"Balls: ",o),i.a.createElement("p",null,"Level: ",l+1),i.a.createElement("p",null,"Score: ",h),i.a.createElement("div",null,i.a.createElement(k,{callback:function(){j.resetGame(),j.setGameState(g)},text:"Back",enabled:!0})))}function he(e){var t=Object(r.useState)(!0),n=Object(a.a)(t,2),o=n[0],s=n[1],c=Object(r.useRef)(),u=Object(V.e)().setDefaultCamera;return Object(r.useEffect)((function(){var e=j.glitching.subscribe(s);return setTimeout((function(){j.setGlitching(!1)}),1e3),u(c.current),function(){return e.unsubscribe()}}),[u]),Object(V.c)((function(){!o&&c.current.position.z>45&&(c.current.position.z,c.current.position.z-=.75),c.current.updateMatrixWorld()})),i.a.createElement("perspectiveCamera",Object.assign({ref:c,position:[0,0,85]},e,{fov:45,far:157}))}function be(){var e=Object(r.useState)(3),t=Object(a.a)(e,2),n=t[0],o=t[1],s=Object(r.useState)(!1),c=Object(a.a)(s,2),u=c[0],l=c[1],f=Object(r.useState)(0),m=Object(a.a)(f,2),d=m[0],h=m[1],b=Object(r.useRef)(null);return P(b,{size:d,setSize:h}),Object(r.useLayoutEffect)((function(){var e=j.balls.subscribe(o);return e.add(j.ballLaunched.subscribe(l)),function(){return e.unsubscribe()}}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{id:"game",onClick:function(){n<0?j.resetGame():u?o(n-1):j.launchBall()}},i.a.createElement("div",{ref:b},i.a.createElement(V.a,{style:{width:"100%",height:"100%"},shadowMap:!0},i.a.createElement(he,null),i.a.createElement(te,null),i.a.createElement(B.a,{iterations:20,tolerance:1e-4,defaultContactMaterial:{friction:0,restitution:1},gravity:[0,0,0],allowSleep:!1},i.a.createElement(Y,null),i.a.createElement(K,null),i.a.createElement(ee,null),i.a.createElement($,null),i.a.createElement(le,null))),i.a.createElement(de,null))))}function ve(){var e=Object(S.a)(["\n\th1 {\n\t\twidth: 100%;\n\t\ttext-align: center;\n\t\tfont-size: 4em;\n\t}\n"]);return ve=function(){return e},e}var pe=D.a.div(ve());function ge(e){var t=e.text;return i.a.createElement(pe,null,i.a.createElement("h1",null,t))}function ye(){var e=Object(S.a)(["\n\tjustify-content: space-evenly;\n\tgrid-row: 1;\n\tdisplay: flex;\n\talign-self: center;\n"]);return ye=function(){return e},e}function Ee(){var e=Object(S.a)(["\n\tjustify-content: space-evenly;\n\tgrid-row: 1;\n\tdisplay: flex;\n"]);return Ee=function(){return e},e}var xe=D.a.div(Ee()),Oe=D.a.div(ye()),je=function(e){var t=e.levelId,n=e.unlocked,a=e.highscoreValue;return i.a.createElement("div",null,i.a.createElement(xe,null,i.a.createElement("div",null,i.a.createElement("h2",null,"Level ",t+1),n&&i.a.createElement("h3",null,"Highscore: ",a)),n?i.a.createElement(k,{callback:function(){j.launchLevel(t)},text:"Play"}):i.a.createElement(Oe,null,i.a.createElement("div",null,"FINISH LEVEL ",t," TO UNLOCK"))))};function we(){var e=Object(S.a)(["\n\ttext-align: center;\n\theight: 65%;\n\twidth: 100%;\n"]);return we=function(){return e},e}function Se(){var e=Object(S.a)(["\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tcolor:#2e8693;\n\ttext-shadow: 2px 2px #60f2ff;\n"]);return Se=function(){return e},e}var De=D.a.div(Se()),Le=D.a.div(we()),ze=function(){var e=Object(r.useState)([0]),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(r.useLayoutEffect)((function(){var e=v.bestscoreValues.subscribe(o);return function(){return e.unsubscribe()}}),[]),i.a.createElement(De,null,i.a.createElement(ge,{text:"LEVELS"}),i.a.createElement(Le,null,n.map((function(e,t){return i.a.createElement(je,{key:t,levelId:t,highscoreValue:n[t],unlocked:!0})})),b.getLockedLevels(n).map((function(e,t){return i.a.createElement(je,{key:t,levelId:t+n.length,highscoreValue:0,unlocked:!1})}))),i.a.createElement(k,{callback:function(){j.setGameState(p)},enabled:!0,text:"Back"}),i.a.createElement("div",{style:{marginTop:"3em"}}))};function ke(){var e=j.nbBrickDestroyed.value+1===b.tiles.value.length,t=e?"Next Level":"Play again";return i.a.createElement("div",{style:{margin:"auto"}},i.a.createElement("h2",null,"Level ",e?"Cleared":"Failed"),i.a.createElement("h3",null,"Score: ",j.scoreValue.value),i.a.createElement(k,{callback:function(){e?(j.resetGame(),j.increaseLevelNumber(),j.setGameState(y)):(j.resetGame(),j.setGameState(g))},text:t}))}n(60);var Te=function(e){switch(e.gameState){case p:return i.a.createElement(C,null);case g:return i.a.createElement(ze,null);case y:return i.a.createElement(be,null);case E:return i.a.createElement(ke,null);default:return i.a.createElement(C,null)}};function Me(){var e=Object(r.useState)(p),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){var e=j.gameState.subscribe(o);return function(){return e.unsubscribe()}}),[]),i.a.createElement("div",{className:"main"},i.a.createElement(Te,{gameState:n}))}s.a.render(i.a.createElement(Me,null),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.56940680.chunk.js.map