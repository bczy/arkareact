{"version":3,"sources":["assets/sounds/brick.mp3","assets/sounds/wall.mp3","assets/textures/cross.jpg","stores/levelStore.js","stores/playerStore.js","stores/gameStore.js","components/hud/common/Button.js","components/hud/common/Title.js","pages/Welcome.js","components/game/Box.js","components/game/Tiles.js","components/game/Walls.js","components/game/Ball.js","components/game/Paddle.js","components/game/Lights.js","components/vfx/GlitchPass.js","components/vfx/Effect.js","components/hud/Hud.js","pages/Game.js","components/hud/Level.js","pages/Levels.js","pages/LevelDebrief.js","index.js"],"names":["module","exports","LevelStore","buildLevel","levelId","tiles","next","LEVELS","layers","flat","instance","this","BehaviorSubject","bestScores","levels","splice","length","levelStore","Object","freeze","playerStore","addHighScore","value","gameStore","currentLevel","score","console","log","PlayerStore","achievements","GAME_STATES","setGameState","gameState","launchLevel","launchGame","resetGame","inGame","launchBall","ballLaunched","resetBall","balls","nbBrickDestroyed","setGlitching","glitching","increaseScore","GameStore","Subject","StyledButton","styled","button","props","big","enabled","Button","callback","text","onClick","StyledTitle","div","Title","Welcome","style","flexDirection","textAlign","Box","position","size","userData","id","useState","setBalls","useLayoutEffect","subs","subscribe","unsubscribe","isWall","isNaN","strength","isCorner","particleSystem","setParticleSystem","soundAsset","wall","isRoof","brick","hitSound","UIFx","scene","useThree","useBox","type","args","map","x","onCollide","e","play","setTimeout","api","set","particles","THREE","pMaterial","color","transparent","depthTest","sizeAttenuation","opacity","p","pX","Math","random","ref","current","pY","y","pZ","z","particle","vertices","push","ps","customRotation","add","buildParticleSystem","useFrame","material","scale","rotation","isTile","key","attach","wireframe","i","Tile","Tiles","setTiles","setCurrentLevel","useEffect","TILES","userDataType","Walls","BRICKS","side","ground","PI","corner","roof","Ball","setBallLaunched","useLoader","cross","useSphere","mass","state","mouse","velocity","castShadow","receiveShadow","Paddle","sleepSpeedLimit","clampMouseMovement","diffCurrentPos","maxVelocity","isNeg","currentMousePosX","currentMousePosY","diffCurrentPosX","diffCurrentPosY","Lights","useRef","shadow","camera","mapSize","width","height","intensity","shadow-camera-near","shadow-camera-far","DigitalGlitch","uniforms","tDiffuse","tDisp","byp","amount","angle","seed","seed_x","seed_y","distortion_x","distortion_y","col_s","vertexShader","fragmentShader","GlitchPass","dt_size","Pass","call","undefined","error","shader","UniformsUtils","clone","generateHeightmap","ShaderMaterial","OrthographicCamera","Scene","quad","Mesh","PlaneBufferGeometry","frustumCulled","factor","Effect","composer","gl","aspect","useMemo","setSize","render","attachArray","prototype","assign","create","constructor","renderer","writeBuffer","readBuffer","deltaTime","maskActive","max","texture","_Math","randFloat","renderToScreen","setRenderTarget","clear","data_arr","Float32Array","val","DataTexture","RGBFormat","FloatType","needsUpdate","extend","EffectComposer","RenderPass","UnrealBloomPass","FilmPass","StyledDiv","Hud","setGameScore","Game","canvasContainer","PerspectiveCamera","updateSize","window","innerHeight","innerWidth","addEventListener","removeEventListener","shadowMap","iterations","tolerance","defaultContactMaterial","friction","restitution","gravity","allowSleep","LevelContainer","LevelLocked","Level","unlocked","highScore","LevelsChoice","LevelList","Levels","setBestScores","_","marginTop","LevelDebrief","winned","margin","ArkaReact","App","className","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.94960443.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/brick.eed03f13.mp3\";","module.exports = __webpack_public_path__ + \"static/media/wall.4c0964a4.mp3\";","module.exports = __webpack_public_path__ + \"static/media/cross.00397b42.jpg\";","import { BehaviorSubject } from 'rxjs';\nimport * as LEVELS from '../data/levels.json';\n\nclass LevelStore {\n  constructor() {\n    if (!LevelStore.instance) {\n      LevelStore.instance = this;\n      this.tiles = new BehaviorSubject([]);\n    }\n  }\n\n  buildLevel = (levelId) => {\n    this.tiles.next(LEVELS.levels[levelId].layers.flat());\n  };\n\n  getLockedLevels(bestScores){\n    const levels = LEVELS.levels;\n    return [...levels].splice(bestScores.length - 1, levels.length - 1);\n  }\n}\n\nexport const levelStore = new LevelStore();\nObject.freeze(LevelStore);\n","import { BehaviorSubject } from 'rxjs';\nimport { gameStore } from './gameStore';\n\nclass PlayerStore {\n  constructor() {\n    if (!PlayerStore.instance) {\n      PlayerStore.instance = this;\n      this.bestScores = new BehaviorSubject([0]);\n      this.achievements = new BehaviorSubject([]);\n    }\n\n    return PlayerStore.instance;\n  }\n\n  //TODO: call\n  addHighScore = () => {\n    const bestScores = [...this.bestScores.value];\n    bestScores[gameStore.currentLevel.value] = gameStore.score.value;\n    bestScores[gameStore.currentLevel.value + 1] = 0;\n    this.bestScores.next(bestScores);\n    console.log('bestScores', bestScores)\n  };\n}\n\nexport const playerStore = new PlayerStore();\nObject.freeze(playerStore);\n","import { Subject, BehaviorSubject } from 'rxjs';\nimport { levelStore } from './levelStore';\nimport { playerStore } from './playerStore';\n\nexport const GAME_STATES = { WELCOME: 0, LEVEL_CHOICE: 1, GAME: 2, LEVEL_DEBRIEF: 3 };\nclass GameStore {\n  constructor() {\n    if (!GameStore.instance) {\n      GameStore.instance = this;\n      this.gameState = new BehaviorSubject(GAME_STATES.WELCOME);\n      this.nbBrickDestroyed = new BehaviorSubject(0);\n      this.balls = new BehaviorSubject(3);\n      this.score = new BehaviorSubject(0);\n      this.inGame = new Subject(false);\n      this.ballLaunched = new Subject(false);\n      this.currentLevel = new BehaviorSubject(1);\n      this.glitching = new Subject(false);\n    }\n    return GameStore.instance;\n  }\n  setGameState = (gameState) => {\n    if (gameState === GAME_STATES.LEVEL_CHOICE) {\n    }\n    this.gameState.next(gameState);\n  };\n  launchLevel = (levelId) => {\n    this.currentLevel.next(levelId);\n    this.gameState.next(GAME_STATES.GAME);\n  };\n  launchGame = () => {\n    this.resetGame();\n    this.inGame.next(true);\n  };\n  launchBall = () => {\n    this.ballLaunched.next(true);\n  };\n  resetBall = () => {\n    if (this.balls.value > 0) {\n      this.balls.next(this.balls.value - 1);\n      this.ballLaunched.next(false);\n    } else {\n      this.gameState.next(GAME_STATES.LEVEL_DEBRIEF);\n    }\n  };\n  resetGame = () => {\n    this.balls.next(3);\n    this.nbBrickDestroyed.next(0);\n    this.score.next(0);\n    this.inGame.next(false);\n    this.ballLaunched.next(false);\n  };\n  setGlitching = (value) => this.glitching.next(value);\n  increaseScore = (score) => {\n    this.score.next(this.score.value + score);\n    if (this.nbBrickDestroyed.value + 1 === levelStore.tiles.value.length) {\n      playerStore.addHighScore();\n      this.gameState.next(GAME_STATES.LEVEL_DEBRIEF);\n    }\n    this.nbBrickDestroyed.next(this.nbBrickDestroyed.value + 1);\n  };\n}\n\nexport const gameStore = new GameStore();\nObject.freeze(gameStore);\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport const StyledButton = styled.button`\n  cursor: pointer;\n  background: transparent;\n  font-size: ${(props) => (props.big ? '5em' : '2.5em')};\n  border-radius: ${(props) => (props.big ? '4px' : '2px')};\n  font-family: VT323;\n  color: ${(props) => (props.enabled ? 'rgba(0,255,0,0.3)' : 'green')};\n  border: ${(props) => (props.enabled ? 'rgba(0,255,0,0.3)' : 'green')};\n  border-style: solid;\n  padding: ${(props) => (props.big ? '0.1em 1em' : '0.5em 1em')};\n  transition: 0.5s all ease-out;\n  box-shadow: 0.02em 0.02em 0.01em 0.01em;\n  width: 4.5em;\n  ${(props) =>\n    props.enabled &&\n    '&:hover { color: rgb(0, 255, 0);border: rgb(0, 255, 0) solid;box-shadow: 0.04em 0.04em 0.02em 0.02em;}'}\n`;\n\nexport function Button({ callback, text, enabled = true, big = false }) {\n  return (\n    <div>\n      <StyledButton\n        big={big}\n        enabled={enabled}\n        onClick={() => {\n          if (enabled) {\n            callback();\n          }\n        }}\n      >\n        {text}\n      </StyledButton>\n    </div>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nexport const StyledTitle = styled.div`\n  @keyframes flicker {\n    0% {\n      opacity: 0.27861;\n    }\n    5% {\n      opacity: 0.34769;\n    }\n    10% {\n      opacity: 0.23604;\n    }\n    15% {\n      opacity: 0.90626;\n    }\n    20% {\n      opacity: 0.18128;\n    }\n    25% {\n      opacity: 0.83891;\n    }\n    30% {\n      opacity: 0.65583;\n    }\n    35% {\n      opacity: 0.67807;\n    }\n    40% {\n      opacity: 0.26559;\n    }\n    45% {\n      opacity: 0.84693;\n    }\n    50% {\n      opacity: 0.96019;\n    }\n    55% {\n      opacity: 0.08594;\n    }\n    60% {\n      opacity: 0.20313;\n    }\n    65% {\n      opacity: 0.71988;\n    }\n    70% {\n      opacity: 0.53455;\n    }\n    75% {\n      opacity: 0.37288;\n    }\n    80% {\n      opacity: 0.71428;\n    }\n    85% {\n      opacity: 0.70419;\n    }\n    90% {\n      opacity: 0.7003;\n    }\n    95% {\n      opacity: 0.36108;\n    }\n    100% {\n      opacity: 0.24387;\n    }\n  }\n  @keyframes textShadow {\n    0% {\n      text-shadow: 0.4389924193300864px 0 1px rgba(0, 30, 255, 0.5),\n        -0.4389924193300864px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    5% {\n      text-shadow: 2.7928974010788217px 0 1px rgba(0, 30, 255, 0.5),\n        -2.7928974010788217px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    10% {\n      text-shadow: 0.02956275843481219px 0 1px rgba(0, 30, 255, 0.5),\n        -0.02956275843481219px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    15% {\n      text-shadow: 0.40218538552878136px 0 1px rgba(0, 30, 255, 0.5),\n        -0.40218538552878136px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    20% {\n      text-shadow: 3.4794037899852017px 0 1px rgba(0, 30, 255, 0.5),\n        -3.4794037899852017px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    25% {\n      text-shadow: 1.6125630401149584px 0 1px rgba(0, 30, 255, 0.5),\n        -1.6125630401149584px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    30% {\n      text-shadow: 0.7015590085143956px 0 1px rgba(0, 30, 255, 0.5),\n        -0.7015590085143956px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    35% {\n      text-shadow: 3.896914047650351px 0 1px rgba(0, 30, 255, 0.5),\n        -3.896914047650351px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    40% {\n      text-shadow: 3.870905614848819px 0 1px rgba(0, 30, 255, 0.5),\n        -3.870905614848819px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    45% {\n      text-shadow: 2.231056963361899px 0 1px rgba(0, 30, 255, 0.5),\n        -2.231056963361899px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    50% {\n      text-shadow: 0.08084290417898504px 0 1px rgba(0, 30, 255, 0.5),\n        -0.08084290417898504px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    55% {\n      text-shadow: 2.3758461067427543px 0 1px rgba(0, 30, 255, 0.5),\n        -2.3758461067427543px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    60% {\n      text-shadow: 2.202193051050636px 0 1px rgba(0, 30, 255, 0.5),\n        -2.202193051050636px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    65% {\n      text-shadow: 2.8638780614874975px 0 1px rgba(0, 30, 255, 0.5),\n        -2.8638780614874975px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    70% {\n      text-shadow: 0.48874025155497314px 0 1px rgba(0, 30, 255, 0.5),\n        -0.48874025155497314px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    75% {\n      text-shadow: 1.8948491305757957px 0 1px rgba(0, 30, 255, 0.5),\n        -1.8948491305757957px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    80% {\n      text-shadow: 0.0833037308038857px 0 1px rgba(0, 30, 255, 0.5),\n        -0.0833037308038857px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    85% {\n      text-shadow: 0.09769827255241735px 0 1px rgba(0, 30, 255, 0.5),\n        -0.09769827255241735px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    90% {\n      text-shadow: 3.443339761481782px 0 1px rgba(0, 30, 255, 0.5),\n        -3.443339761481782px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    95% {\n      text-shadow: 2.1841838852799786px 0 1px rgba(0, 30, 255, 0.5),\n        -2.1841838852799786px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n    100% {\n      text-shadow: 2.6208764473832513px 0 1px rgba(0, 30, 255, 0.5),\n        -2.6208764473832513px 0 1px rgba(255, 0, 80, 0.3), 0 0 3px;\n    }\n  }\n  &:after {\n    content: ' ';\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    background: rgba(18, 16, 16, 0.1);\n    opacity: 0;\n    z-index: 2;\n    pointer-events: none;\n    animation: flicker 0.15s infinite;\n  }\n  &:before {\n    content: ' ';\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%),\n      linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));\n    z-index: 2;\n    background-size: 100% 2px, 3px 100%;\n    pointer-events: none;\n  }\n  animation: textShadow 1.6s infinite;\n  font-family: VT323;\n  font-size: 3em;\n  color: #0f0;\n  h1 {\n    margin: 0;\n    width: 100%;\n    text-align: center;\n  }\n`;\n\nexport function Title({ text }) {\n  return (\n    <StyledTitle>\n      <h1>{text}</h1>\n    </StyledTitle>\n  );\n}\n","import React from 'react';\n\nimport { gameStore, GAME_STATES } from '../stores/gameStore';\nimport { Button } from '../components/hud/common/Button';\nimport { Title } from '../components/hud/common/Title';\n\nexport function Welcome() {\n  return (\n    <>\n      <div style={{ flexDirection: 'column' }}>\n        <div>\n          <Title text=\"ARKEACT\" />\n        </div>\n        <div style={{ textAlign: 'center' }}>\n          <Button\n            big\n            callback={() => {\n              gameStore.setGameState(GAME_STATES.LEVEL_CHOICE);\n            }}\n            enabled\n            text=\"Start\"\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useLayoutEffect, useState } from 'react';\n\nimport * as THREE from 'three';\nimport { useThree, useFrame } from 'react-three-fiber';\nimport { useBox } from 'use-cannon';\n\nimport UIFx from 'uifx';\n\nimport brick from '../../assets/sounds/brick.mp3';\nimport wall from '../../assets/sounds/wall.mp3';\n\nimport { gameStore } from '../../stores/gameStore';\n\nexport function Box({ position, size = [2, 2, 2], userData, id }) {\n  const [balls, setBalls] = useState(3);\n\n  useLayoutEffect(() => {\n    const subs = gameStore.balls.subscribe(setBalls);\n    return () => subs.unsubscribe();\n  }, []);\n\n  const isWall = isNaN(userData.strength);\n  const isCorner = isNaN(userData.isCorner);\n  const [particleSystem, setParticleSystem] = useState();\n\n  function buildParticleSystem() {\n    // create the particle variables\n    const particleCount = 25;\n    const particles = new THREE.Geometry();\n    const pMaterial = new THREE.PointsMaterial({\n      color: userData.color,\n      size: 0.9,\n      transparent: true,\n      depthTest: false,\n      sizeAttenuation: true,\n      opacity: 0.9,\n    });\n\n    // now create the individual particles\n    for (let p = 0; p < particleCount; p++) {\n      // create a particle with random\n      // position values, -250 -> 250\n      const pX = Math.random() * 2.5 - 1.25 + ref.current.position.x;\n      const pY = Math.random() * 2.5 - 1.25 + ref.current.position.y;\n      const pZ = Math.random() * 2.5 - 1.25 + ref.current.position.z;\n      const particle = new THREE.Vector3(pX, pY, pZ);\n      // add it to the geometry\n      particles.vertices.push(particle);\n    }\n\n    const ps = new THREE.Points(particles, pMaterial);\n    ps.customRotation = Math.random() * 2 - 1;\n    scene.add(ps);\n    return ps;\n  }\n\n  let soundAsset = null;\n  if (isWall) {\n    soundAsset = wall;\n  } else if (!userData.isRoof) {\n    soundAsset = brick;\n  }\n\n  const hitSound = new UIFx(soundAsset);\n\n  const { scene } = useThree();\n\n  const [ref, api] = useBox(() => {\n    return {\n      type: isCorner ? 'Static' : 'Kinematic',\n      args: size.map((x) => x / 2),\n      position,\n      userData: userData,\n      onCollide: (e) => {\n        hitSound.play();\n        if (userData.isRoof) {\n          gameStore.resetBall();\n          gameStore.setGlitching(true);\n          setTimeout(() => {\n            gameStore.setGlitching(false);\n            setBalls(balls - 1);\n          }, 300);\n        } else if (!isWall) {\n          userData.strength--;\n          if (userData.strength <= 0) {\n            api.position.set(-1000, -1000, -100);\n            setParticleSystem(buildParticleSystem());\n            gameStore.increaseScore(userData.score);\n          }\n        }\n      },\n    };\n  });\n\n  useFrame(() => {\n    if (particleSystem && particleSystem.material.opacity > 0) {\n      particleSystem.material.opacity -= 0.0075;\n      particleSystem.scale.x += 0.01;\n      particleSystem.scale.y += 0.01;\n      particleSystem.rotation.x += particleSystem.customRotation / 50;\n    }\n  });\n\n  return (<>\n    {userData.isTile ? \n      (<mesh key={id} ref={ref} userData={userData}>\n        <boxGeometry attach=\"geometry\" args={size} />\n        <meshStandardMaterial attach=\"material\" wireframe={true} color={userData.color} />\n      <mesh userData={userData}>\n        <boxGeometry attach=\"geometry\" args={size.map(i => i *0.99)} />\n        <meshStandardMaterial attach=\"material\" opacity={0.1} color=\"#F00\" />\n      </mesh>\n    </mesh>) : \n    (<mesh key={id} ref={ref} userData={userData}>\n    <boxGeometry attach=\"geometry\" args={size} />\n\n    <meshStandardMaterial attach=\"material\" color={userData.color} />\n\n</mesh>)}</>)\n  ;\n}\n","import React, { useEffect, useState } from 'react';\nimport { Box } from './Box.js';\n\nimport { tiles as TILES } from '../../data/gameBalanceData.json';\n\nimport { levelStore } from '../../stores/levelStore';\nimport { gameStore } from '../../stores/gameStore';\n\nfunction Tile({ position, userData, id }) {\n  return <Box id={id} position={position} userData={userData} />;\n}\n\nexport function Tiles() {\n  const [tiles, setTiles] = useState([]);\n\n  const [currentLevel, setCurrentLevel] = useState(gameStore.currentLevel.value);\n  useEffect(() => {\n    const subs = gameStore.currentLevel.subscribe(setCurrentLevel);\n    subs.add(levelStore.tiles.subscribe(setTiles));\n    levelStore.buildLevel(currentLevel);\n    return () => subs.unsubscribe();\n  }, [currentLevel]);\n\n  return tiles.map((brick, i) => (\n    <Tile key={i} id={i} position={brick.position} userData={TILES[brick.userDataType]} />\n  ));\n}\n","import React from 'react';\nimport { Box } from './Box.js';\n\nimport * as BRICKS from '../../data/gameBalanceData.json';\n\nexport function Walls() {\n  return (\n    <>\n      <Box position={[-12.5, 0, 0]} userData={BRICKS.walls.side} size={[1, 25, 130]} />\n      <Box position={[12.5, 0, 0]} userData={BRICKS.walls.side} size={[1, 25, 130]} />\n      <Box position={[0, 12.5, 0]} userData={BRICKS.walls.side} size={[25, 1, 130]} />\n      <Box position={[0, -12.5, 0]} userData={BRICKS.walls.side} size={[25, 1, 130]} />\n      <Box\n        position={[0, 0, -12.5]}\n        userData={BRICKS.walls.ground}\n        size={[25, 25, 1]}\n        rotation={Math.PI / 2}\n      />\n\n      <Box\n        position={[-12, -12, -12.5]}\n        userData={BRICKS.walls.corner}\n        size={[0.25, 0.25, 130]}\n        rotation={Math.PI / 2}\n      />\n      <Box\n        position={[-12, 12, -12.5]}\n        userData={BRICKS.walls.corner}\n        size={[0.25, 0.25, 130]}\n        rotation={Math.PI / 2}\n      />\n      <Box\n        position={[12, 12, -12.5]}\n        userData={BRICKS.walls.corner}\n        size={[0.25, 0.25, 130]}\n        rotation={Math.PI / 2}\n      />\n      <Box\n        position={[12, -12, -12.5]}\n        userData={BRICKS.walls.corner}\n        size={[0.25, 0.25, 130]}\n        rotation={Math.PI / 2}\n      />\n      <Box\n        position={[0, 12, -12]}\n        userData={BRICKS.walls.corner}\n        size={[130, 0.25, 0.25]}\n        rotation={Math.PI / 2}\n      />\n      <Box\n        position={[0, -12, -12]}\n        userData={BRICKS.walls.corner}\n        size={[130, 0.25, 0.25]}\n        rotation={Math.PI / 2}\n      />\n      <Box\n        position={[12, 0, -12]}\n        userData={BRICKS.walls.corner}\n        size={[0.25, 120, 0.25]}\n        rotation={Math.PI}\n      />\n      <Box\n        position={[-12, 0, -12]}\n        userData={BRICKS.walls.corner}\n        size={[0.25, 120, 0.25]}\n        rotation={Math.PI}\n      />\n      <Box\n        position={[0, 0, 45]}\n        userData={BRICKS.walls.roof}\n        size={[24, 24, 0.001]}\n        rotation={Math.PI / 2}\n      />\n    </>\n  );\n}\n","import React, { useState, useLayoutEffect } from 'react';\nimport { useSphere } from 'use-cannon';\nimport { useFrame, useLoader } from 'react-three-fiber';\n\nimport { gameStore } from '../../stores/gameStore';\n\nimport * as THREE from 'three';\nimport cross from '../../assets/textures/cross.jpg';\nexport function Ball() {\n  const [ballLaunched, setBallLaunched] = useState(false);\n\n  useLayoutEffect(() => {\n    const subs = gameStore.ballLaunched.subscribe(setBallLaunched);\n    return () => subs.unsubscribe();\n  }, []);\n  const map = useLoader(THREE.TextureLoader, cross);\n  const [ref, api] = useSphere(() => ({\n    mass: 1,\n    args: 1,\n    position: [0, 0, 0],\n    onCollide: (e) => {},\n  }));\n  useFrame((state) => {\n    if (!ballLaunched) {\n      api.position.set(state.mouse.x * 10, state.mouse.y * 10, 17.6);\n      api.velocity.set(0, 0, 0, 1);\n    }\n  });\n  return (\n    <mesh castShadow receiveShadow ref={ref}>\n      <sphereBufferGeometry attach=\"geometry\" args={[0.5, 64, 64]} />\n      <meshStandardMaterial map={map} attach=\"material\" />\n    </mesh>\n  );\n}\n","import React from 'react';\n\nimport { useFrame } from 'react-three-fiber';\nimport { useSphere } from 'use-cannon';\n\nexport function Paddle() {\n  const [ref, api] = useSphere(() => ({\n    args: 1.3,\n    scale: [1, 1, 0.01],\n    position: [0, 0, 10],\n    sleepSpeedLimit: 4, \n    onCollide: (e) => {},\n  }));\n  function clampMouseMovement(diffCurrentPos, maxVelocity = 1) {\n    const isNeg = diffCurrentPos < 0;\n    let diffToAddX = 0;\n    if (isNeg) {\n      diffToAddX = diffCurrentPos < -maxVelocity ? -maxVelocity : diffCurrentPos;\n    } else {\n      diffToAddX = diffCurrentPos > maxVelocity ? maxVelocity : diffCurrentPos;\n    }\n    return diffToAddX;\n  }\n  useFrame((state) => {\n    // The paddle is kinematic (not subject to gravitation), we move it with the api returned by useBox\n    const currentMousePosX = state.mouse.x * 10;\n    const currentMousePosY = state.mouse.y * 10;\n    const diffCurrentPosX = currentMousePosX - ref.current.position.x;\n    const diffCurrentPosY = currentMousePosY - ref.current.position.y;\n\n    api.position.set(\n      ref.current.position.x + clampMouseMovement(diffCurrentPosX),\n      ref.current.position.y + clampMouseMovement(diffCurrentPosY),\n      18\n    );\n  });\n  return (\n    <>\n      <mesh ref={ref} castShadow>\n        <boxGeometry attach=\"geometry\" args={[5, 5, 1]} />\n        <meshBasicMaterial attach=\"material\" wireframe={true} color={'#0a94ab'} />\n      </mesh>\n    </>\n  );\n}\n","import React, { useRef, useLayoutEffect } from 'react';\nimport * as THREE from 'three';\nexport function Lights() {\n  const ref = useRef();\n  useLayoutEffect(() => {\n    ref.current.shadow.camera = new THREE.OrthographicCamera(-100, 100, 100, -100, 0.5, 100);\n    ref.current.shadow.mapSize.width = 2048;\n    ref.current.shadow.mapSize.height = 2048;\n  }, []);\n  return (\n    <>\n      <ambientLight intensity={0.75} />\n      <directionalLight\n        ref={ref}\n        position={[0, 0, 25]}\n        shadow-camera-near={0.1}\n        shadow-camera-far={1500}\n        castShadow\n      />\n    </>\n  );\n}\n","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\n/**\n * @author felixturner / http://airtight.cc/\n *\n * RGB Shift Shader\n * Shifts red and blue channels from center in opposite directions\n * Ported from http://kriss.cx/tom/2009/05/rgb-shift/\n * by Tom Butterworth / http://kriss.cx/tom/\n *\n * amount: shift distance (1 is width of input)\n * angle: shift angle in radians\n */\n\nimport {\n  DataTexture,\n  FloatType,\n  Math as _Math,\n  Mesh,\n  OrthographicCamera,\n  PlaneBufferGeometry,\n  RGBFormat,\n  Scene,\n  ShaderMaterial,\n  UniformsUtils,\n} from 'three';\nimport { Pass } from 'three/examples/jsm/postprocessing/Pass.js';\n\nvar DigitalGlitch = {\n  uniforms: {\n    tDiffuse: { value: null }, //diffuse texture\n    tDisp: { value: null }, //displacement texture for digital glitch squares\n    byp: { value: 0 }, //apply the glitch ?\n    amount: { value: 0.08 },\n    angle: { value: 0.02 },\n    seed: { value: 0.02 },\n    seed_x: { value: 0.02 }, //-1,1\n    seed_y: { value: 0.02 }, //-1,1\n    distortion_x: { value: 0.5 },\n    distortion_y: { value: 0.6 },\n    col_s: { value: 0.05 },\n  },\n\n  vertexShader: `varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n    }`,\n\n  fragmentShader: `uniform int byp; //should we apply the glitch\n    uniform sampler2D tDiffuse;\n    uniform sampler2D tDisp;\n    uniform float amount;\n    uniform float angle;\n    uniform float seed;\n    uniform float seed_x;\n    uniform float seed_y;\n    uniform float distortion_x;\n    uniform float distortion_y;\n    uniform float col_s;\n    varying vec2 vUv;\n    float rand(vec2 co){\n      return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n    }\n    void main() {\n      if(byp<1) {\n        vec2 p = vUv;\n        float xs = floor(gl_FragCoord.x / 0.5);\n        float ys = floor(gl_FragCoord.y / 0.5);\n        //based on staffantans glitch shader for unity https://github.com/staffantan/unityglitch\n        vec4 normal = texture2D (tDisp, p*seed*seed);\n        if(p.y<distortion_x+col_s && p.y>distortion_x-col_s*seed) {\n          if(seed_x>0.){\n            p.y = 1. - (p.y + distortion_y);\n          }\n          else {\n            p.y = distortion_y;\n          }\n        }\n        p.x+=normal.x*seed_x*(seed/5.);\n        p.y+=normal.y*seed_y*(seed/5.);\n        //base from RGB shift shader\n        vec2 offset = amount * vec2( cos(angle), sin(angle));\n        vec4 cr = texture2D(tDiffuse, p + offset);\n        vec4 cga = texture2D(tDiffuse, p);\n        vec4 cb = texture2D(tDiffuse, p - offset);\n        gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\n        //add noise\n        vec4 snow = 200.*amount*vec4(rand(vec2(xs * seed,ys * seed*50.))*0.05);\n        gl_FragColor = gl_FragColor+ snow;\n      }\n      else {\n        gl_FragColor=texture2D (tDiffuse, vUv);\n      }\n    }`,\n};\n\nvar GlitchPass = function (dt_size) {\n  Pass.call(this);\n  if (DigitalGlitch === undefined) console.error('THREE.GlitchPass relies on THREE.DigitalGlitch');\n  var shader = DigitalGlitch;\n  this.uniforms = UniformsUtils.clone(shader.uniforms);\n  if (dt_size === undefined) dt_size = 64;\n  this.uniforms['tDisp'].value = this.generateHeightmap(dt_size);\n  this.material = new ShaderMaterial({\n    uniforms: this.uniforms,\n    vertexShader: shader.vertexShader,\n    fragmentShader: shader.fragmentShader,\n  });\n  this.camera = new OrthographicCamera(-1, 1, 1, -1, 0, 1);\n  this.scene = new Scene();\n  this.quad = new Mesh(new PlaneBufferGeometry(2, 2), null);\n  this.quad.frustumCulled = false; // Avoid getting clipped\n  this.scene.add(this.quad);\n  this.factor = 0;\n};\n\nGlitchPass.prototype = Object.assign(Object.create(Pass.prototype), {\n  constructor: GlitchPass,\n\n  render: function (renderer, writeBuffer, readBuffer, deltaTime, maskActive) {\n    const factor = Math.max(0, this.factor);\n    this.uniforms['tDiffuse'].value = readBuffer.texture;\n    this.uniforms['seed'].value = Math.random() * factor; //default seeding\n    this.uniforms['byp'].value = 0;\n    if (factor) {\n      this.uniforms['amount'].value = (Math.random() / 90) * factor;\n      this.uniforms['angle'].value = _Math.randFloat(-Math.PI, Math.PI) * factor;\n      this.uniforms['distortion_x'].value = _Math.randFloat(0, 1) * factor;\n      this.uniforms['distortion_y'].value = _Math.randFloat(0, 1) * factor;\n      this.uniforms['seed_x'].value = _Math.randFloat(-0.3, 0.3) * factor;\n      this.uniforms['seed_y'].value = _Math.randFloat(-0.3, 0.3) * factor;\n    } else this.uniforms['byp'].value = 1;\n    this.quad.material = this.material;\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      renderer.render(this.scene, this.camera);\n    } else {\n      renderer.setRenderTarget(writeBuffer);\n      if (this.clear) renderer.clear();\n      renderer.render(this.scene, this.camera);\n    }\n  },\n\n  generateHeightmap: function (dt_size) {\n    var data_arr = new Float32Array(dt_size * dt_size * 3);\n    var length = dt_size * dt_size;\n\n    for (var i = 0; i < length; i++) {\n      var val = _Math.randFloat(0, 1);\n      data_arr[i * 3 + 0] = val;\n      data_arr[i * 3 + 1] = val;\n      data_arr[i * 3 + 2] = val;\n    }\n\n    var texture = new DataTexture(data_arr, dt_size, dt_size, RGBFormat, FloatType);\n    texture.needsUpdate = true;\n    return texture;\n  },\n});\n\nexport { GlitchPass };\n","import React, { useRef, useLayoutEffect, useState, useMemo, useEffect } from 'react';\nimport { useFrame, useThree, extend } from 'react-three-fiber';\nimport * as THREE from 'three';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\n\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\nimport { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass';\nimport { FilmPass } from 'three/examples/jsm/postprocessing/FilmPass';\n\nimport { GlitchPass } from './GlitchPass';\n\nimport { gameStore } from '../../stores/gameStore';\n\nextend({ EffectComposer, RenderPass, UnrealBloomPass, FilmPass, GlitchPass });\n\nexport function Effect(camera) {\n  const [glitching, setGlitching] = useState(false);\n  useLayoutEffect(() => {\n    const subs = gameStore.glitching.subscribe(setGlitching);\n    return () => subs.unsubscribe();\n  }, []);\n  const composer = useRef();\n  const { scene, gl, size } = useThree();\n  const aspect = useMemo(() => new THREE.Vector2(size.width, size.height), [size]);\n  useEffect(() => void composer.current.setSize(size.width, size.height), [size]);\n  useFrame(() => composer.current.render(), 1);\n  return (\n    <effectComposer ref={composer} args={[gl]}>\n      <renderPass attachArray=\"passes\" scene={scene} camera={camera.camera} />\n      <unrealBloomPass attachArray=\"passes\" args={[aspect, 0.25, 0.2, 0]} />\n      <glitchPass attachArray=\"passes\" factor={glitching ? 1 : 0} />\n      <filmPass attachArray=\"passes\" args={[0.35, 0.6, 1500, false]} />\n    </effectComposer>\n  );\n}\n","import React, { useState, useLayoutEffect } from 'react';\nimport styled from 'styled-components';\nimport { Button } from './common/Button';\n\nimport { gameStore, GAME_STATES } from '../../stores/gameStore';\nexport const StyledDiv = styled.div`\n  position: absolute;\n  top: 0;\n  margin: 3em 1em 3em -12em;\n  background-color: rgba(0, 0, 0, 0.4);\n  padding: 1em;\n`;\n\nexport function Hud({ text }) {\n  const [balls, setBalls] = useState(3);\n  const [currentLevel, setCurrentLevel] = useState(1);\n  const [score, setGameScore] = useState(0);\n  useLayoutEffect(() => {\n    const subs = gameStore.balls.subscribe(setBalls);\n    subs.add(gameStore.currentLevel.subscribe(setCurrentLevel));\n    subs.add(gameStore.score.subscribe(setGameScore));\n    return () => subs.unsubscribe();\n  }, []);\n  return (\n    <StyledDiv>\n      <p>Balls: {balls}</p>\n      <p>Level: {currentLevel + 1}</p>\n      <p>Score: {score}</p>\n      <div>\n        <Button\n          callback={() => {\n            gameStore.resetGame();\n            gameStore.setGameState(GAME_STATES.LEVEL_CHOICE);\n          }}\n          text=\"Back\"\n          enabled\n        ></Button>\n      </div>\n    </StyledDiv>\n  );\n}\n","import React, { useMemo, useState, useLayoutEffect, useRef } from 'react';\n\nimport { Canvas } from 'react-three-fiber';\nimport { Physics } from 'use-cannon';\n\nimport { gameStore } from '../stores/gameStore';\n\nimport { Tiles } from '../components/game/Tiles';\nimport { Walls } from '../components/game/Walls';\nimport { Ball } from '../components/game/Ball';\nimport { Paddle } from '../components/game/Paddle';\nimport { Lights } from '../components/game/Lights';\nimport { Effect } from '../components/vfx/Effect';\n\nimport { PerspectiveCamera } from 'three';\nimport { Hud } from '../components/hud/Hud';\n\nexport function Game() {\n  const [balls, setBalls] = useState(3);\n  const [ballLaunched, setBallLaunched] = useState(false);\n  const [size, setSize] = useState(0);\n\n  const canvasContainer = useRef(null);\n\n  function useWindowResize() {\n    useLayoutEffect(() => {\n      function updateSize() {\n        if (window.innerHeight > window.innerWidth) {\n          setSize(window.width);\n          canvasContainer.current.style.width = `${window.innerWidth}px`;\n          canvasContainer.current.style.height = `${window.innerWidth}px`;\n        } else {\n          canvasContainer.current.style.width = `${window.innerHeight}px`;\n          canvasContainer.current.style.height = `${window.innerHeight}px`;\n          setSize(window.innerHeight);\n        }\n      }\n      window.addEventListener('resize', updateSize);\n      updateSize();\n      return () => window.removeEventListener('resize', updateSize);\n    }, []);\n    return size;\n  }\n\n  useLayoutEffect(() => {\n    const subs = gameStore.balls.subscribe(setBalls);\n    subs.add(gameStore.ballLaunched.subscribe(setBallLaunched));\n    return () => subs.unsubscribe();\n  }, []);\n\n  const camera = useMemo(() => {\n    const camera = new PerspectiveCamera(45, 1, 1, 57);\n    camera.position.set(0, 0, 45);\n    return camera;\n  }, []);\n\n  useWindowResize();\n\n  function handleClick() {\n    if (balls < 0) {\n      gameStore.resetGame();\n    } else if (!ballLaunched) {\n      gameStore.launchBall();\n    } else {\n      setBalls(balls - 1);\n    }\n  }\n\n  return (\n    <>\n      <div id=\"game\" onClick={handleClick}>\n        <div ref={canvasContainer}>\n          <Canvas style={{ width: '100%', height: '100%' }} shadowMap camera={camera}>\n            <Lights />\n            <Physics\n              iterations={20}\n              tolerance={0.0001}\n              defaultContactMaterial={{\n                friction: 0,\n                restitution: 1,\n              }}\n              gravity={[0, 0, 0]}\n              allowSleep={false}\n            >\n              <Walls />\n              <Tiles />\n              <Paddle />\n              <Ball />\n              <Effect camera={camera} />\n            </Physics>\n          </Canvas>\n          <Hud />\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { gameStore } from '../../stores/gameStore';\nimport { playerStore } from '../../stores/playerStore';\n\nimport { Button } from './common/Button';\n\nexport const LevelContainer = styled.div`\n  justify-content: space-evenly;\n  margin-bottom: 0.5em;\n  grid-row: 1;\n`;\n\nexport const LevelLocked = styled.div`\n  grid-row: 1;\n  margin: -3.5em auto;\n  width: 88%;\n  max-width: 26em;\n  font-size: 2em;\n  color: rgba(255, 0, 0, 0.4);\n  background-color: rgba(0, 0, 0, 0.4);\n  height: 3.5em;\n  transition: 0.5s all ease-out;\n  align-items: center;gameStore\n  justify-content: center;\n  &:hover {\n    color: rgba(255, 0, 0, 1);\n    border: red solid;\n  }\n`;\n\nexport const Level = ({ levelId, unlocked, highScore }) => {\n  return (\n    <div>\n      {unlocked ? (\n        <LevelContainer>\n          <div>\n            <h2>Level {levelId + 1}</h2>\n            {unlocked && <h3>Highscore: {highScore}</h3>}\n          </div>\n          <Button\n            callback={() => {\n              gameStore.launchLevel(levelId);\n            }}\n            text=\"Play\"\n          />\n        </LevelContainer>\n      ) : (\n        <LevelLocked>\n          <div>FINISH LEVEL {levelId} TO UNLOCK</div>\n        </LevelLocked>\n      )}\n    </div>\n  );\n};\n","import React, { useLayoutEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nimport { gameStore, GAME_STATES } from '../stores/gameStore';\nimport { playerStore } from '../stores/playerStore';\n\nimport { Button } from '../components/hud/common/Button';\nimport { Title } from '../components/hud/common/Title';\n\nimport { Level } from '../components/hud/Level';\n\nimport { levelStore } from '../stores/levelStore';\n\nexport const LevelsChoice = styled.div`\n  height: 100%;\n`;\n\nexport const LevelList = styled.div`\n  width: 100%;\n  height: 100%;\n  display: grid;\n  text-align: center;\n`;\n\nexport const Levels = () => {\n  const [bestScores, setBestScores] = useState([0]);\n  useLayoutEffect(() => {\n    const subs = playerStore.bestScores.subscribe(setBestScores);\n    return () => subs.unsubscribe();\n  }, []);\n  return (\n    <LevelsChoice>\n      <Title text=\"LEVELS\" />\n      <LevelList>\n        {bestScores.map(( _,levelId) => {\n          return (\n            <Level\n              key={levelId}\n              levelId={levelId}\n              highScore={bestScores[levelId]} \n              unlocked={true}\n            />\n          );\n        })}\n        {\n        }\n      </LevelList>\n      <div style={{ marginTop: '3em' }}>\n        <Button\n          callback={() => {\n            gameStore.setGameState(GAME_STATES.WELCOME);\n          }}\n          enabled\n          text=\"Back\"\n        />\n      </div>\n    </LevelsChoice>\n  );\n};\n","import React from 'react';\n\nimport { gameStore, GAME_STATES } from '../stores/gameStore';\nimport { levelStore } from '../stores/levelStore';\n\nexport function LevelDebrief() {\n  const winned = gameStore.nbBrickDestroyed.value + 1 === levelStore.tiles.value.length;\n  return (\n    <div\n      onClick={() => {\n        gameStore.resetGame();\n        gameStore.setGameState(GAME_STATES.LEVEL_CHOICE);\n      }}\n      style={{ margin: 'auto' }}\n    >\n      <h2>Level {winned ? 'Cleared' : 'Failed'}</h2>\n      <h3>Score: {gameStore.score.value}</h3>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { gameStore, GAME_STATES } from './stores/gameStore';\n\nimport { Welcome } from './pages/Welcome';\nimport { Game } from './pages/Game';\nimport { Levels } from './pages/Levels';\nimport { LevelDebrief } from './pages/LevelDebrief';\n\nimport './styles.css';\n\nconst ArkaReact = ({ gameState }) => {\n  switch (gameState) {\n    case GAME_STATES.WELCOME:\n      return <Welcome />;\n    case GAME_STATES.LEVEL_CHOICE:\n      return <Levels />;\n    case GAME_STATES.GAME:\n      return <Game />;\n    case GAME_STATES.LEVEL_DEBRIEF:\n      return <LevelDebrief />;\n    default:\n      return <Welcome />;\n  }\n};\n\nexport default function App() {\n  const [gameState, setGameState] = useState(GAME_STATES.WELCOME);\n  useEffect(() => {\n    const subs = gameStore.gameState.subscribe(setGameState);\n    return () => subs.unsubscribe();\n  }, []);\n\n  return (\n    <div className=\"main\">\n      <ArkaReact gameState={gameState} />\n    </div>\n  );\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}